---
layout: post
title: "Root GT I9070"
date: 2016-01-07 23:38:20 +0100
comments: true
categories: android
---

GT I9070 is quite old device called Galaxy S Advance. I finally decide to start
playing with low level Android stuff and native development mainly because I
think it can be fun and profitable. Since I had no chance to play with other
device (or was to scary to try with my new devices) I finally earn some extra
device simply because it is outdated and nobody in my home wants to use it.

<a class="fancybox" rel="group" href="/assets/images/gt_i9070_prop.jpg"><img src="/assets/images/gt_i9070_prop.jpg" alt="" /></a>

Some time ago I read that very important are various numbers related to
firmware versioning and device identification. On Samsung phone easiest way to
obtain those is by calling to `*#1234#`.

<a class="fancybox" rel="group" href="/assets/images/gt_i9070_1234.jpg"><img src="/assets/images/gt_i9070_1234.jpg" alt="" /></a>

Simple google search return
[this](http://www.ibtimes.co.uk/galaxys-advance-i9070-root-android412-xxlqe-jellybean-464448).
The only thing confusing for n00b may be `Then transfer the downloaded root zip
file to the external SD card of the phone`, this sentence confuse me since
before that they say that phone should be connected to computer. So they assume
you have SD card inside your phone and it is already formated to store
`root.zip`. Also under Debian after connecting phone, which has SD card
inserted menu shows `CARD` directory, which represent mounted filesystem from
SD card.

In my case after pressing magic keys combination there was no screen about
choosing update source just info that custom ROM may demage system and question
for confirmation.

This look like device which is factory locked and doesn't provide way to update
using external SD card. On XDA advise to use Kies to unlock, but I wondered if
there is Linux software for that. The pointers lead to quite active
[Heimdall](https://github.com/Benjamin-Dobell/Heimdall).

## Heimdall

```
sudo apt-get install build-essential cmake zlib1g-dev qt5-default libusb-1.0-0-dev libgl1-mesa-glx libgl1-mesa-dev
git clone https://github.com/Benjamin-Dobell/Heimdall.git
mkdir build
cd build
cmake -DCMAKE_BUILD_TYPE=Release ..
make   
```

I experienced weird error:

```
[  6%] Built target pit
[ 53%] Built target heimdall
[ 56%] Automatic moc for target heimdall-frontend
[ 56%] Built target heimdall-frontend_automoc
[ 60%] Building CXX object heimdall-frontend/CMakeFiles/heimdall-frontend.dir/heimdall-frontend_automoc.cpp.o
In file included from /home/pietrushnic/projects/3mdeb/gt_i9070/Heimdall/build/heimdall-frontend/heimdall-frontend_automoc.cpp:2:0:
/home/pietrushnic/projects/3mdeb/gt_i9070/Heimdall/build/heimdall-frontend/moc_aboutform.cpp:9:111: fatal error: ../../../../../../storage/wdc/projects/3mdeb/gt_i9070/Heimdall/heimdall-frontend/source/aboutform.h: No such file or directory
compilation terminated.
heimdall-frontend/CMakeFiles/heimdall-frontend.dir/build.make:266: recipe for target 'heimdall-frontend/CMakeFiles/heimdall-frontend.dir/heimdall-frontend_automoc.cpp.o' failed
make[2]: *** [heimdall-frontend/CMakeFiles/heimdall-frontend.dir/heimdall-frontend_automoc.cpp.o] Error 1
CMakeFiles/Makefile2:198: recipe for target 'heimdall-frontend/CMakeFiles/heimdall-frontend.dir/all' failed
make[1]: *** [heimdall-frontend/CMakeFiles/heimdall-frontend.dir/all] Error 2
Makefile:83: recipe for target 'all' failed
make: *** [all] Error 2
```

After some research it appears to be problem with cmake AUTOMOC, which appears
to not like symbolic link paths. If navigating directory through full path
cmake generates correct moc files.
